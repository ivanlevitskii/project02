# Единое окно

Приложение для обработки обращений граждан и их направления в соответствующие департаменты с использованием искусственного интеллекта.

## Требования

- Python 3.9+
- pip (менеджер пакетов Python)

## Установка

1. Клонируйте репозиторий:
```bash
git clone <url-репозитория>
cd <директория-проекта>
```

2. Создайте и активируйте виртуальное окружение:
```bash
python -m venv venv
source venv/bin/activate  # для Linux/Mac
# или
venv\Scripts\activate  # для Windows
```

3. Установите зависимости:
```bash
pip install -r requirements.txt
```

## Запуск приложения

### Основное приложение (API)

1. Запустите основной сервер:
```bash
python3 main.py
```
Сервер будет доступен по адресу: http://localhost:8000

### Графический интерфейс (Streamlit)

1. В новом терминале запустите Streamlit приложение:
```bash
python3 -m streamlit run test_app.py
```
Интерфейс будет доступен в браузере по адресу: http://localhost:8501

### Консольное приложение

1. В новом терминале запустите консольное приложение:
```bash
python3 console_test.py
```

## Использование

### Графический интерфейс
1. Откройте http://localhost:8501 в браузере
2. Введите текст обращения (минимум 10 символов)
3. Укажите контактную информацию
4. Нажмите кнопку "Отправить обращение"

### Консольное приложение
1. Запустите `console_test.py`
2. Выберите действие из меню:
   - 1: Отправить обращение
   - 2: Показать список департаментов
   - 3: Выход
3. Следуйте инструкциям на экране

## API Endpoints

- `GET /departments` - получить список департаментов
- `POST /process_appeal` - обработать обращение гражданина

## Структура проекта

```
.
├── main.py              # Основной файл API
├── models.py            # Модели и логика классификации
├── test_app.py          # Графический интерфейс (Streamlit)
├── console_test.py      # Консольное приложение
├── requirements.txt     # Зависимости проекта
└── README.md           # Документация
```

## Технологии

- FastAPI - фреймворк для API
- Streamlit - фреймворк для веб-интерфейса
- Hugging Face Transformers - для обработки текста
- PyTorch - для работы с нейронными сетями
- scikit-learn - для вычисления сходства текстов

## Преимущества DeepSeek

- Высокая точность классификации
- Хорошая поддержка русского языка
- Быстрая обработка запросов
- Конкурентные цены
- Простой API

## Тестирование

Для запуска тестов:
```bash
pytest test_main.py -v
```

## Документация API

После запуска приложения, полная документация API доступна по адресу:
- Swagger UI: http://localhost:8000/docs
- ReDoc: http://localhost:8000/redoc 